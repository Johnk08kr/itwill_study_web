<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
<th:block th:replace="~{/layout/fragments::documentHeader}"></th:block>
<style>
/* Custom styles for the table */
.custom-table thead {
  background-color: #343a40;
  color: #ffffff;
}

.custom-table tbody tr:hover {
  background-color: #f2f2f2;
}

.custom-table th, .custom-table td {
  text-align: center;
  vertical-align: middle;
}

/* Custom styles for the card */
.custom-card {
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;
  background-color: #f8f9fa;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.custom-card-header {
  background-color: #198754;
  color: #ffffff;
  padding: 1rem;
  border-radius: 10px 10px 0 0;
  text-align: center;
  margin: -2rem -2rem 2rem -2rem;
}
</style>
</head>
<body>
  <th:block
    th:replace="~{/layout/fragments::pageHeader('POST DETAILS')}"></th:block>
  <main>
    <div class="container mt-4">
      <div class="custom-card">
        <div class="custom-card-header">
          <h2>Post Details</h2>
        </div>
        <div class="card-body">
          <table class="table custom-table">
            <tbody>
              <th:block th:object="${post}">
                <input type="hidden" id="id" th:value="*{id}" />
                <tr>
                  <th scope="row">ID</th>
                  <td th:text="*{id}"></td>
                </tr>
                <tr>
                  <th scope="row">Title</th>
                  <td th:text="*{title}"></td>
                </tr>
                <tr>
                  <th scope="row">Author</th>
                  <td th:text="*{author}"></td>
                </tr>
                <tr>
                  <th scope="row">Content</th>
                  <td th:text="*{content}"></td>
                </tr>
                <tr>
                  <th scope="row">Modified</th>
                  <td
                    th:text="*{#temporals.format(modifiedTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
                </tr>
              </th:block>
            </tbody>
          </table>
          <div class="mt-4 text-center">
            <a class="btn btn-success"
              th:href="@{/post/update/{id}(id=*{id})}">Update</a>
            <a class="btn btn-secondary" th:href="@{/post/list}">Back
              to List</a> <a class="btn btn-danger" id="deleteBtn">Delete</a>
          </div>
        </div>
      </div>
    </div>
  </main>

  <th:block th:replace="~{/layout/fragments::bootstrapJS}"></th:block>
  <script>
  const $deleteBtn = document.querySelector("#deleteBtn");

  $deleteBtn.addEventListener("click", () => {
      console.log('실행된거 맞음?');
      const check = confirm('진짜?');
      if(check) {
    	  const postId = document.querySelector("#id").value;
          location.href = `/post/delete/${postId}`; 
      }
  });
  </script>
</body>
</html>
